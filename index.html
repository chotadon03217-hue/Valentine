<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Noor â¤ï¸</title>
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <!-- Floating hearts layer -->
  <div class="hearts" id="hearts" aria-hidden="true"></div>

  <!-- Music -->
  <audio id="bgMusic" preload="auto" loop>
    <source src="assets/music.m4a" type="audio/mp4" />
  </audio>

  <main class="wrap">
    <!-- SCREEN 1 -->
    <section id="s1" class="card active">
      <div class="bigHeart" aria-hidden="true">â¤ï¸</div>
      <h1 class="title">Happy Valentine's Day, Noor ğŸ’—</h1>
      <p class="subtitle">
        Noor meri jaanâ€¦ ye website maine khud banayi sirf tumhare liye ğŸ˜Œâœ¨
      </p>

      <div class="questionBox">
        <h2 class="question">Will you be my Valentine?</h2>
        <p class="hint">Hint: â€œNoâ€ dabaya to woh bhag jayega ğŸ˜</p>

        <div class="btnRow">
          <button class="btn yes" id="yesBtn" type="button">Yes ğŸ’</button>
          <button class="btn no" id="noBtn" type="button">No ğŸ™ˆ</button>
        </div>

        <p id="noText" class="noText" aria-live="polite"></p>

        <div class="musicRow">
          <button class="btn ghost" id="playMusic" type="button">Play Song ğŸµ</button>
          <button class="btn ghost" id="pauseMusic" type="button">Pause â¸</button>
        </div>
      </div>

      <button class="btn next" id="go2" type="button">Next âœ</button>
    </section>

    <!-- SCREEN 2 (ROSE + MESSAGE) -->
    <section id="s2" class="card">
      <h1 class="title">A Rose for you, Noor ğŸŒ¹</h1>

      <div class="roseWrap" aria-hidden="true">
        <div class="rose">ğŸŒ¹</div>
        <div class="sparkle">âœ¨</div>
      </div>

      <p class="para">
        Noor meri jaan ğŸ’—<br><br>
        Tum meri peace ho, meri khushi ho, aur mera home bhi.  
        Mera bacha, meri cutie, meri shonaâ€¦ aur haan mera chotu don ğŸ˜„  
        Main tumhe pyar se tease karta hoon: meri <b>moti</b> ğŸ˜Œ (sirf pyaar se!)  
        meri golu si, mera golu bachaâ€¦ tumhari smile se mera din ban jata hai âœ¨<br><br>
        Aaj nahiâ€¦ har din main tumhe choose karta hoon ğŸ’
      </p>

      <div class="navRow">
        <button class="btn ghost" data-go="s1" type="button">â¬… Back</button>
        <button class="btn next" data-go="s3" type="button">Next âœ</button>
      </div>
    </section>

    <!-- SCREEN 3 (MEMORIES SLIDER) -->
    <section id="s3" class="card">
      <h1 class="title">Our Memories ğŸ“¸</h1>
      <p class="subtitle">Har photo me ek choti si story haiâ€¦ aur tum meri favorite ho ğŸ’–</p>

      <div class="memoryFrame">
        <button class="arrow left" id="prevImg" type="button" aria-label="Previous photo">â€¹</button>

        <div class="photoBox">
          <img id="memImg" src="assets/img1.jpg" alt="Memory photo" />
        </div>

        <button class="arrow right" id="nextImg" type="button" aria-label="Next photo">â€º</button>
      </div>

      <div class="dots" aria-hidden="true">
        <span class="dot active" id="d1"></span>
        <span class="dot" id="d2"></span>
        <span class="dot" id="d3"></span>
        <span class="dot" id="d4"></span>
        <span class="dot" id="d5"></span>
        <span class="dot" id="d6"></span>
      </div>

      <div class="navRow">
        <button class="btn ghost" data-go="s2" type="button">â¬… Back</button>
        <button class="btn next" data-go="s4" type="button">Next âœ</button>
      </div>
    </section>

    <!-- SCREEN 4 (FINAL) -->
    <section id="s4" class="card">
      <div class="bigHeart" aria-hidden="true">ğŸ’˜</div>
      <h1 class="title">One last thingâ€¦</h1>
      <p class="para">
        Noor, tum meri special ho. Always.  
        Tum meri jaan, mera bacha, meri cutieâ€¦ aur mera chotu don ğŸ˜„  
        I love you lots ğŸ’—
      </p>

      <div class="finalBtns">
        <button class="btn yes" id="confettiBtn" type="button">Happy Valentineâ€™s Day ğŸ‰</button>
        <button class="btn ghost" data-go="s1" type="button">â†© Start Again</button>
      </div>

      <canvas id="confettiCanvas" class="confetti"></canvas>
    </section>
  </main>

  <script>
    // ---------- screen navigation ----------
    const cards = document.querySelectorAll(".card");
    function show(id) {
      cards.forEach(c => c.classList.remove("active"));
      document.getElementById(id).classList.add("active");
      window.scrollTo({ top: 0, behavior: "smooth" });
    }
    document.getElementById("go2").addEventListener("click", () => show("s2"));
    document.querySelectorAll("[data-go]").forEach(btn => {
      btn.addEventListener("click", () => show(btn.getAttribute("data-go")));
    });

    // ---------- No button runs away ----------
    const noBtn = document.getElementById("noBtn");
    const noText = document.getElementById("noText");
    const s1 = document.getElementById("s1");

    function moveNo() {
      const rect = s1.getBoundingClientRect();
      const maxX = Math.max(10, rect.width - 140);
      const maxY = Math.max(10, rect.height - 240);

      noBtn.style.position = "absolute";
      noBtn.style.left = (Math.random() * maxX) + "px";
      noBtn.style.top  = (120 + Math.random() * maxY) + "px";

      const lines = [
        "Noorâ€¦ No pe click? ğŸ˜",
        "Aray meri moti, yahan nahi! ğŸ˜„",
        "Chotu don ke samne No? impossible ğŸ˜Œ",
        "Yes pe click karo warna main tang karunga ğŸ˜œ"
      ];
      noText.textContent = lines[Math.floor(Math.random() * lines.length)];
    }

    noBtn.addEventListener("mouseover", moveNo);
    noBtn.addEventListener("click", moveNo);

    // ---------- Yes button ----------
    document.getElementById("yesBtn").addEventListener("click", () => show("s2"));

    // ---------- Music controls (iOS needs user tap) ----------
    const music = document.getElementById("bgMusic");
    document.getElementById("playMusic").addEventListener("click", () => music.play());
    document.getElementById("pauseMusic").addEventListener("click", () => music.pause());

    // ---------- Memories slider ----------
    let i = 1;
    const img = document.getElementById("memImg");
    function updateDots() {
      for (let k = 1; k <= 6; k++) {
        document.getElementById("d" + k).classList.toggle("active", k === i);
      }
    }
    function setImg(n) {
      i = n;
      img.src = "assets/img" + i + ".jpg";
      updateDots();
    }
    document.getElementById("nextImg").addEventListener("click", () => setImg(i === 6 ? 1 : i + 1));
    document.getElementById("prevImg").addEventListener("click", () => setImg(i === 1 ? 6 : i - 1));

    // ---------- Floating hearts ----------
    const hearts = document.getElementById("hearts");
    setInterval(() => {
      const h = document.createElement("div");
      h.className = "heart";
      h.style.left = Math.random() * 100 + "%";
      h.style.fontSize = (18 + Math.random() * 28) + "px";
      h.style.animationDuration = (6 + Math.random() * 5) + "s";
      h.textContent = ["ğŸ’—","ğŸ’–","ğŸ’","ğŸ’•"][Math.floor(Math.random()*4)];
      hearts.appendChild(h);
      setTimeout(() => h.remove(), 9000);
    }, 450);

    // ---------- Confetti (simple) ----------
    const canvas = document.getElementById("confettiCanvas");
    const ctx = canvas.getContext("2d");
    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
    }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();

    let confetti = [];
    function boom() {
      confetti = [];
      for (let j=0; j<160; j++) {
        confetti.push({
          x: Math.random()*canvas.width,
          y: -20,
          r: 2 + Math.random()*4,
          vy: 2 + Math.random()*4,
          vx: -1 + Math.random()*2,
          a: 1
        });
      }
      animate();
    }
    function animate() {
      ctx.clearRect(0,0,canvas.width,canvas.height);
      confetti.forEach(p => {
        p.x += p.vx;
        p.y += p.vy;
        p.a -= 0.005;
        ctx.globalAlpha = Math.max(0, p.a);
        ctx.beginPath();
        ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
        ctx.fillStyle = ["#ff4f81","#ff79a8","#ffd1e1","#ffffff"][Math.floor(Math.random()*4)];
        ctx.fill();
      });
      ctx.globalAlpha = 1;
      confetti = confetti.filter(p => p.a > 0 && p.y < canvas.height + 30);
      if (confetti.length) requestAnimationFrame(animate);
    }
    document.getElementById("confettiBtn").addEventListener("click", boom);
  </script>
</body>
</html>
